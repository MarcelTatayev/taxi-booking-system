<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Driver Dashboard</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #333;
            min-height: 100vh;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* SIDEBAR */
        .sidebar {
            width: 280px;
            background: #2c3e50;
            color: white;
            position: fixed;
            height: 100vh;
            left: -280px;
            transition: left 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-header {
            padding: 20px;
            background: #34495e;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-header h2 {
            font-size: 18px;
            font-weight: 600;
        }

        .nav-menu {
            padding: 20px 0;
        }

        .nav-item {
            display: block;
            padding: 15px 25px;
            color: #bdc3c7;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 4px solid transparent;
        }

        .nav-item:hover,
        .nav-item.active {
            background: rgba(255,255,255,0.1);
            color: white;
            border-left-color: #3498db;
        }

        .nav-submenu {
            display: none;
            background: rgba(0,0,0,0.2);
        }

        .nav-submenu.open {
            display: block;
        }

        .nav-submenu .nav-item {
            padding-left: 50px;
            font-size: 14px;
        }

        /* MOBILE MENU BUTTON */
        .menu-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            background: #2c3e50;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .menu-toggle:hover {
            background: #34495e;
        }

        /* MAIN CONTENT */
        .main-content {
            flex: 1;
            padding: 20px;
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }

        .main-content.sidebar-open {
            margin-left: 280px;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            background: #28a745;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 18px;
        }

        /* DASHBOARD CARDS */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* JOBS SECTION */
        .jobs-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .jobs-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 1px solid #e9ecef;
        }

        .jobs-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 30px;
        }

        .control-btn {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: #666;
        }

        .control-btn:hover {
            background: #f8f9fa;
        }

        .search-box {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        /* JOBS TABLE */
        .jobs-table {
            width: 100%;
            border-collapse: collapse;
        }

        .jobs-table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
        }

        .jobs-table td {
            padding: 15px;
            border-bottom: 1px solid #f0f2f5;
            vertical-align: middle;
        }

        .jobs-table tr:hover {
            background: #f8f9fa;
        }

        .job-ref {
            font-family: monospace;
            font-weight: 600;
            color: #2c3e50;
        }

        .job-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
        }

        .status-progress {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-awaiting {
            background: #fff3cd;
            color: #856404;
        }

        .status-accepted {
            background: #cce5ff;
            color: #004085;
        }

        .job-price {
            font-weight: 600;
            color: #28a745;
        }

        .view-btn {
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            color: #666;
        }

        .view-btn:hover {
            background: #e9ecef;
        }

        /* JOB DETAIL PAGE */
        .job-detail {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .job-detail-header {
            background: #5bc0de;
            color: white;
            padding: 25px 30px;
            text-align: center;
        }

        .job-detail-header h2 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .job-detail-content {
            padding: 30px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #f0f2f5;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-weight: 600;
            color: #7f8c8d;
            flex: 0 0 150px;
        }

        .detail-value {
            flex: 1;
            color: #2c3e50;
        }

        .navigate-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            margin-right: 10px;
        }

        .navigate-btn:hover {
            background: #2980b9;
        }

        .add-note-btn {
            color: #3498db;
            text-decoration: none;
            font-size: 14px;
        }

        .add-note-btn:hover {
            text-decoration: underline;
        }

        /* PROFILE PAGE */
        .profile-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e9ecef;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            background: #bdc3c7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
        }

        .profile-info h2 {
            font-size: 28px;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .profile-info p {
            color: #7f8c8d;
            font-size: 16px;
        }

        .profile-details {
            display: grid;
            gap: 20px;
        }

        .profile-field {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .profile-field label {
            font-weight: 600;
            color: #7f8c8d;
            font-size: 14px;
        }

        .profile-field .value {
            color: #2c3e50;
            font-size: 16px;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            background: #28a745;
            color: white;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .profile-actions {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 15px;
        }

        .edit-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .edit-btn:hover {
            background: #2980b9;
        }

        .delete-btn {
            color: #e74c3c;
            text-decoration: none;
            font-size: 14px;
            padding: 12px 0;
        }

        .delete-btn:hover {
            text-decoration: underline;
        }

        /* HIDDEN SECTIONS */
        .hidden {
            display: none !important;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                left: -100%;
            }

            .sidebar.open {
                left: 0;
            }

            .main-content.sidebar-open {
                margin-left: 0;
            }

            .page-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .dashboard-stats {
                grid-template-columns: 1fr;
            }

            .jobs-header {
                flex-direction: column;
                gap: 15px;
            }

            .jobs-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Mobile Menu Toggle -->
        <button class="menu-toggle" onclick="toggleSidebar()">☰</button>

        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Driver</h2>
                <p>Dashboard</p>
            </div>

            <div class="nav-menu">
                <a href="#" class="nav-item active" onclick="showDashboard()">Dashboard</a>
                
                <a href="#" class="nav-item" onclick="toggleSubmenu('jobs-submenu')">Jobs ▼</a>
                <div class="nav-submenu" id="jobs-submenu">
                    <a href="#" class="nav-item" onclick="event.stopPropagation(); showJobsPage('progress'); return false;">In Progress</a>
                    <a href="#" class="nav-item" onclick="event.stopPropagation(); showJobsPage('awaiting'); return false;">Awaiting Approval</a>
                    <a href="#" class="nav-item" onclick="event.stopPropagation(); showJobsPage('accepted'); return false;">Accepted</a>
                    <a href="#" class="nav-item" onclick="event.stopPropagation(); showJobsPage('completed'); return false;">Completed</a>
                </div>

                <a href="#" class="nav-item" onclick="showCalendar()">Calendar</a>
                <a href="#" class="nav-item" onclick="showProfile()">Profile</a>
                <a href="#" class="nav-item" onclick="logout()">Logout</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Dashboard</h1>
                    <div class="user-profile">
                        <div class="user-avatar">M</div>
                        <div>
                            <div style="font-weight: 600;">Maksim</div>
                            <div style="font-size: 14px; color: #7f8c8d;">Online</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="stat-progress">0</div>
                        <div class="stat-label">In Progress</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-awaiting">0</div>
                        <div class="stat-label">Awaiting Approval</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-accepted">0</div>
                        <div class="stat-label">Accepted</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-completed">0</div>
                        <div class="stat-label">Completed</div>
                    </div>
                </div>
            </div>

            <!-- Jobs Section -->
            <div id="jobs-section" class="content-section hidden">
                <div class="page-header">
                    <h1 class="page-title">Jobs</h1>
                </div>

                <div class="jobs-section">
                    <div class="jobs-header">
                        <h3>Job List</h3>
                    </div>

                    <div class="jobs-controls">
                        <button class="control-btn">👁</button>
                        <button class="control-btn">↻</button>
                        <button class="control-btn">⟲</button>
                        <input type="text" class="search-box" placeholder="Search..." id="job-search">
                    </div>

                    <table class="jobs-table">
                        <thead>
                            <tr>
                                <th>Actions</th>
                                <th>Ref ID</th>
                                <th>Status</th>
                                <th>Price</th>
                                <th>Driver income</th>
                            </tr>
                        </thead>
                        <tbody id="jobs-table-body">
                            <!-- Jobs will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Job Detail Section -->
            <div id="job-detail-section" class="content-section hidden">
                <div class="page-header">
                    <h1 class="page-title">Jobs / <span id="job-detail-title">MXO59P</span></h1>
                </div>

                <div class="job-detail">
                    <div class="job-detail-header">
                        <h2 id="job-detail-status">Arrived</h2>
                    </div>

                    <div class="job-detail-content" id="job-detail-content">
                        <!-- Job details will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div id="profile-section" class="content-section hidden">
                <div class="page-header">
                    <h1 class="page-title">Profile</h1>
                </div>

                <div class="profile-section">
                    <div class="profile-header">
                        <div class="profile-avatar">👤</div>
                        <div class="profile-info">
                            <h2>Maksim</h2>
                            <p>Member since 3 years 5 months</p>
                        </div>
                    </div>

                    <div class="profile-details">
                        <div class="profile-field">
                            <label>Username:</label>
                            <div class="value">user61fc54085b9bc</div>
                        </div>

                        <div class="profile-field">
                            <label>Email:</label>
                            <div class="value">elinapiotti@gmail.com</div>
                        </div>

                        <div class="profile-field">
                            <label>Language:</label>
                            <div class="value">English</div>
                        </div>

                        <div class="profile-field">
                            <label>Timezone:</label>
                            <div class="value">UTC+02:00 Brussels</div>
                        </div>

                        <div class="profile-field">
                            <label>Status:</label>
                            <div class="value"><span class="status-badge">Approved</span></div>
                        </div>

                        <div class="profile-field">
                            <label>Mobile number:</label>
                            <div class="value">+32484900740</div>
                        </div>

                        <div class="profile-field">
                            <label>Emergency number:</label>
                            <div class="value">+32484900740</div>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button class="edit-btn">Edit</button>
                        <a href="#" class="delete-btn">✕ Delete my account</a>
                    </div>
                </div>
            </div>

            <!-- Calendar Section -->
            <div id="calendar-section" class="content-section hidden">
                <div class="page-header">
                    <h1 class="page-title">Calendar</h1>
                </div>

                <div class="profile-section">
                    <p style="text-align: center; color: #7f8c8d; padding: 50px;">Calendar functionality coming soon...</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        let sidebarOpen = false;
        let currentPage = 'dashboard';
        let jobs = [];
        let stats = {
            progress: 0,
            awaiting: 0,  
            accepted: 0,
            completed: 0
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            generateDemoJobs();
            updateStats();
            showDashboard();
        });

        // Sidebar functions
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            sidebarOpen = !sidebarOpen;
            
            if (sidebarOpen) {
                sidebar.classList.add('open');
                mainContent.classList.add('sidebar-open');
            } else {
                sidebar.classList.remove('open');
                mainContent.classList.remove('sidebar-open');
            }
        }

        // Toggle submenu
        function toggleSubmenu(menuId) {
            const submenu = document.getElementById(menuId);
            submenu.classList.toggle('open');
        }

        // Navigation functions
        function hideAllSections() {
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.add('hidden'));
        }

        function showDashboard() {
            hideAllSections();
            document.getElementById('dashboard-section').classList.remove('hidden');
            updateNavActive('dashboard');
            currentPage = 'dashboard';
        }

        function showJobsPage(status = 'all') {
            hideAllSections();
            document.getElementById('jobs-section').classList.remove('hidden');
            updateNavActive('jobs');
            currentPage = 'jobs';
            populateJobsTable(status);
            
            // Keep the jobs submenu open after selection
            const jobsSubmenu = document.getElementById('jobs-submenu');
            if (jobsSubmenu) {
                jobsSubmenu.classList.add('open');
            }
            
            // Update the page title to show current filter
            const jobsTitle = document.querySelector('#jobs-section .page-title');
            if (jobsTitle) {
                switch(status) {
                    case 'progress': jobsTitle.textContent = 'Jobs - In Progress'; break;
                    case 'awaiting': jobsTitle.textContent = 'Jobs - Awaiting Approval'; break;
                    case 'accepted': jobsTitle.textContent = 'Jobs - Accepted'; break;
                    case 'completed': jobsTitle.textContent = 'Jobs - Completed'; break;
                    default: jobsTitle.textContent = 'All Jobs'; break;
                }
            }
        }

        function showJobDetail(jobId) {
            hideAllSections();
            document.getElementById('job-detail-section').classList.remove('hidden');
            currentPage = 'job-detail';
            populateJobDetail(jobId);
        }

        function showProfile() {
            hideAllSections();
            document.getElementById('profile-section').classList.remove('hidden');
            updateNavActive('profile');
            currentPage = 'profile';
        }

        function showCalendar() {
            hideAllSections();
            document.getElementById('calendar-section').classList.remove('hidden');
            updateNavActive('calendar');
            currentPage = 'calendar';
        }

        function updateNavActive(activeItem) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Add active class to clicked item if we can find it
            navItems.forEach(item => {
                if (item.textContent.toLowerCase().includes(activeItem)) {
                    item.classList.add('active');
                }
            });
        }

        // Job management functions
        function generateDemoJobs() {
            const refCodes = ['BGJAHE', 'TSLV8Yb', 'MCG43H', 'HHTPVVB', '3LYA92a', 'JNQ83Rb', 'RQVJOB', 'UPAMQ6', 'MXO59P'];
            const statuses = ['completed', 'progress', 'awaiting', 'accepted'];
            const prices = [65.00, 102.00, 62.00, 70.00, 94.00, 111.00, 63.60, 63.60, 60.00];

            jobs = [];
            
            refCodes.forEach((ref, index) => {
                const status = index < 8 ? 'completed' : 'progress';
                const job = {
                    id: ref,
                    refId: ref,
                    status: status,
                    price: prices[index] || 65.00,
                    driverIncome: (prices[index] || 65.00) * 0.8,
                    journeyDate: '20/07/2025 09:00',
                    pickup: 'Brussels Airport Leopoldlaan, 1930 Zaventem',
                    dropoff: 'Riddersstraat 34, Leuven, Belgium, Riddersstraat 34, 3000 Leuven',
                    summary: {
                        journey: (prices[index] || 65.00) - 5.00,
                        meetGreet: 5.00
                    },
                    payment: (prices[index] || 65.00),
                    paymentStatus: 'Pending',
                    amountDue: (prices[index] || 65.00),
                    passengerCharge: (prices[index] || 65.00)
                };
                jobs.push(job);
            });
        }

        function updateStats() {
            stats = {
                progress: jobs.filter(j => j.status === 'progress').length,
                awaiting: jobs.filter(j => j.status === 'awaiting').length,
                accepted: jobs.filter(j => j.status === 'accepted').length,
                completed: jobs.filter(j => j.status === 'completed').length
            };

            document.getElementById('stat-progress').textContent = stats.progress;
            document.getElementById('stat-awaiting').textContent = stats.awaiting;
            document.getElementById('stat-accepted').textContent = stats.accepted;
            document.getElementById('stat-completed').textContent = stats.completed;
        }

        function populateJobsTable(filterStatus = 'all') {
            const tbody = document.getElementById('jobs-table-body');
            let filteredJobs = jobs;

            if (filterStatus !== 'all') {
                filteredJobs = jobs.filter(job => job.status === filterStatus);
            }

            tbody.innerHTML = '';

            filteredJobs.forEach(job => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><button class="view-btn" onclick="showJobDetail('${job.id}')">👁</button></td>
                    <td><span class="job-ref">${job.refId}</span></td>
                    <td><span class="job-status status-${job.status}">${getStatusLabel(job.status)}</span></td>
                    <td><span class="job-price">€${job.price.toFixed(2)}</span></td>
                    <td>€${job.driverIncome.toFixed(2)}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function populateJobDetail(jobId) {
            const job = jobs.find(j => j.id === jobId);
            if (!job) return;

            document.getElementById('job-detail-title').textContent = job.refId;
            document.getElementById('job-detail-status').textContent = getStatusLabel(job.status);

            const content = document.getElementById('job-detail-content');
            content.innerHTML = `
                <div class="detail-row">
                    <span class="detail-label">Journey date:</span>
                    <span class="detail-value">${job.journeyDate}</span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Notes:</span>
                    <span class="detail-value"><a href="#" class="add-note-btn">Add note</a></span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Summary:</span>
                    <span class="detail-value">
                        Journey €${job.summary.journey.toFixed(2)}<br>
                        Meet & Greet €${job.summary.meetGreet.toFixed(2)}
                    </span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Price:</span>
                    <span class="detail-value">€${job.price.toFixed(2)}</span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Payments:</span>
                    <span class="detail-value">€${job.payment.toFixed(2)} (Cash or Card in the taxi) - <span style="color: #f39c12;">${job.paymentStatus}</span></span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Amount due:</span>
                    <span class="detail-value">€${job.amountDue.toFixed(2)}</span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Passenger charge:</span>
                    <span class="detail-value">€${job.passengerCharge.toFixed(2)} ℹ</span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Pickup:</span>
                    <span class="detail-value">
                        ${job.pickup}<br>
                        <a href="#" class="navigate-btn">Navigate</a>
                    </span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Dropoff:</span>
                    <span class="detail-value">
                        ${job.dropoff}<br>
                        <a href="#" class="navigate-btn">Navigate</a>
                    </span>
                </div>
            `;
        }

        function getStatusLabel(status) {
            const labels = {
                'completed': 'Completed',
                'progress': 'In Progress', 
                'awaiting': 'Awaiting Approval',
                'accepted': 'Accepted'
            };
            return labels[status] || status;
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                window.location.href = 'admin-simple.html';
            }
        }

        // Search functionality
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('job-search');
            if (searchInput) {
                searchInput.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.toLowerCase();
                    const rows = document.querySelectorAll('#jobs-table-body tr');
                    
                    rows.forEach(row => {
                        const refId = row.querySelector('.job-ref').textContent.toLowerCase();
                        if (refId.includes(searchTerm)) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    });
                });
            }
        });
    </script>
</body>
</html>